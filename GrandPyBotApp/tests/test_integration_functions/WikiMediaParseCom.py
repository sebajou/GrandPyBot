from GrandPyBotApp.tests.test_integration_functions.Parse import Parser


class TheWikiMediaParseCom(Parser):
    @staticmethod
    def get_title_from_api(message_to_api):
        if message_to_api == "openclassrooms":
            return {'batchcomplete': '', 'continue': {'sroffset': 10, 'continue': '-||'}, 'query': {'searchinfo': {'totalhits': 41}, 'search': [{'ns': 0, 'title': 'OpenClassrooms', 'pageid': 4338589, 'size': 30770, 'wordcount': 3143, 'snippet': 'chez <span class="searchmatch">OpenClassrooms</span>\xa0», <span class="searchmatch">OpenClassrooms</span>\xa0: le blog,\u200e 17 avril 2018 (lire en ligne, consulté le 11 juillet 2018) «\xa0<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">openclassrooms</span>.com', 'timestamp': '2020-08-03T11:29:42Z'}, {'ns': 0, 'title': 'Massive Open Online Course', 'pageid': 6436398, 'size': 55242, 'wordcount': 5707, 'snippet': 'sur <span class="searchmatch">openclassrooms</span>.com (consulté le 22 septembre 2015) «\xa0Google\xa0», sur <span class="searchmatch">openclassrooms</span>.com (consulté le 22 septembre 2015) «\xa0IBM\xa0», sur <span class="searchmatch">openclassrooms</span>.com', 'timestamp': '2020-08-07T14:04:41Z'}, {'ns': 0, 'title': 'Compilateur', 'pageid': 635, 'size': 23027, 'wordcount': 2776, 'snippet': '«\xa0Découvrez le cours &quot;Compilation à la volée avec libtcc&quot; sur @<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 21 novembre 2016). «\xa0tranpiler\xa0», sur wiktionary', 'timestamp': '2020-08-15T12:49:38Z'}, {'ns': 0, 'title': 'Unix', 'pageid': 3081, 'size': 43396, 'wordcount': 4675, 'snippet': '(consulté le 2 juillet 2017). «\xa0Mais c\'est quoi, Linux\xa0? @<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 3 juillet 2017). (en) Andrew Tanenbaum, «\xa0Some', 'timestamp': '2020-08-30T17:41:13Z'}, {'ns': 0, 'title': 'Zeste de Savoir', 'pageid': 12431773, 'size': 4665, 'wordcount': 344, 'snippet': 'fondée le 1er avril 2014, à la suite de changements de politique d\'\'<span class="searchmatch">OpenClassrooms</span>. Celle-ci promeut le partage de connaissances et l\'auto-formation, participe', 'timestamp': '2020-07-05T10:10:30Z'}, {'ns': 0, 'title': 'Percolation', 'pageid': 84364, 'size': 7795, 'wordcount': 875, 'snippet': 'Hoshen-Kopelman Théorie de la percolation La percolation sur le site <span class="searchmatch">OpenClassrooms</span> Article La percolation, un jeu de pavages aléatoires de Hugo Duminil-Copin', 'timestamp': '2020-09-08T03:02:50Z'}, {'ns': 0, 'title': 'Sudo', 'pageid': 869228, 'size': 4707, 'wordcount': 571, 'snippet': '(consulté le 2 novembre 2019) «\xa0Les utilisateurs et les droits\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 1er septembre 2015). su sudosh Role-Based Access Control', 'timestamp': '2020-07-01T10:27:03Z'}, {'ns': 0, 'title': 'Programmation dynamique', 'pageid': 128278, 'size': 18992, 'wordcount': 2707, 'snippet': '«\xa0Introduction à la programmation dynamique\xa0», sur http://<span class="searchmatch">openclassrooms</span>.com/, <span class="searchmatch">OpenClassrooms</span> (consulté le 21 février 2015) Robert Cori, «\xa0Principe de', 'timestamp': '2019-12-27T22:12:13Z'}, {'ns': 0, 'title': 'Broadcast (informatique)', 'pageid': 3363958, 'size': 3825, 'wordcount': 551, 'snippet': 'Anycast Géocast Voir Broadcast address (en) Calculer ses plages d\'adresses sur <span class="searchmatch">OpenClassrooms</span> Portail de l’informatique Portail des télécommunications', 'timestamp': '2019-05-02T12:12:24Z'}, {'ns': 0, 'title': 'PHP', 'pageid': 2350, 'size': 67571, 'wordcount': 5039, 'snippet': 'Foundation\xa0» (consulté le 7 novembre 2007) «\xa0Introduction à PHP\xa0», sur <span class="searchmatch">openclassrooms</span>.com (consulté le 14 juillet 2015). «\xa0PHP is dead…Viva le PHP! – Hacker', 'timestamp': '2020-08-17T20:24:58Z'}]}}
        elif message_to_api == "dsqgrr(5éht":
            return {'batchcomplete': '', 'query': {'searchinfo': {'totalhits': 0}, 'search': []}}
        elif message_to_api == "":
            return {'error': {'code': 'missingparam', 'info': 'The "srsearch" parameter must be set.', '*': 'See https://fr.wikipedia.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/mailman/listinfo/mediawiki-api-announce&gt; for notice of API deprecations and breaking changes.'}, 'servedby': 'mw2366'}

    @staticmethod
    def json_title(media_wiki_request_search_result):
        if media_wiki_request_search_result == {'batchcomplete': '', 'continue': {'sroffset': 10, 'continue': '-||'}, 'query': {'searchinfo': {'totalhits': 41}, 'search': [{'ns': 0, 'title': 'OpenClassrooms', 'pageid': 4338589, 'size': 30770, 'wordcount': 3143, 'snippet': 'chez <span class="searchmatch">OpenClassrooms</span>\xa0», <span class="searchmatch">OpenClassrooms</span>\xa0: le blog,\u200e 17 avril 2018 (lire en ligne, consulté le 11 juillet 2018) «\xa0<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">openclassrooms</span>.com', 'timestamp': '2020-08-03T11:29:42Z'}, {'ns': 0, 'title': 'Massive Open Online Course', 'pageid': 6436398, 'size': 55242, 'wordcount': 5707, 'snippet': 'sur <span class="searchmatch">openclassrooms</span>.com (consulté le 22 septembre 2015) «\xa0Google\xa0», sur <span class="searchmatch">openclassrooms</span>.com (consulté le 22 septembre 2015) «\xa0IBM\xa0», sur <span class="searchmatch">openclassrooms</span>.com', 'timestamp': '2020-08-07T14:04:41Z'}, {'ns': 0, 'title': 'Compilateur', 'pageid': 635, 'size': 23027, 'wordcount': 2776, 'snippet': '«\xa0Découvrez le cours &quot;Compilation à la volée avec libtcc&quot; sur @<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 21 novembre 2016). «\xa0tranpiler\xa0», sur wiktionary', 'timestamp': '2020-08-15T12:49:38Z'}, {'ns': 0, 'title': 'Unix', 'pageid': 3081, 'size': 43396, 'wordcount': 4675, 'snippet': '(consulté le 2 juillet 2017). «\xa0Mais c\'est quoi, Linux\xa0? @<span class="searchmatch">OpenClassrooms</span>\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 3 juillet 2017). (en) Andrew Tanenbaum, «\xa0Some', 'timestamp': '2020-08-30T17:41:13Z'}, {'ns': 0, 'title': 'Percolation', 'pageid': 84364, 'size': 7795, 'wordcount': 875, 'snippet': 'Hoshen-Kopelman Théorie de la percolation La percolation sur le site <span class="searchmatch">OpenClassrooms</span> Article La percolation, un jeu de pavages aléatoires de Hugo Duminil-Copin', 'timestamp': '2020-09-08T03:02:50Z'}, {'ns': 0, 'title': 'Zeste de Savoir', 'pageid': 12431773, 'size': 4665, 'wordcount': 344, 'snippet': 'fondée le 1er avril 2014, à la suite de changements de politique d\'\'<span class="searchmatch">OpenClassrooms</span>. Celle-ci promeut le partage de connaissances et l\'auto-formation, participe', 'timestamp': '2020-07-05T10:10:30Z'}, {'ns': 0, 'title': 'Sudo', 'pageid': 869228, 'size': 4707, 'wordcount': 571, 'snippet': '(consulté le 2 novembre 2019) «\xa0Les utilisateurs et les droits\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 1er septembre 2015). su sudosh Role-Based Access Control', 'timestamp': '2020-07-01T10:27:03Z'}, {'ns': 0, 'title': 'Broadcast (informatique)', 'pageid': 3363958, 'size': 3825, 'wordcount': 551, 'snippet': 'Anycast Géocast Voir Broadcast address (en) Calculer ses plages d\'adresses sur <span class="searchmatch">OpenClassrooms</span> Portail de l’informatique Portail des télécommunications', 'timestamp': '2019-05-02T12:12:24Z'}, {'ns': 0, 'title': 'Programmation dynamique', 'pageid': 128278, 'size': 18992, 'wordcount': 2707, 'snippet': '«\xa0Introduction à la programmation dynamique\xa0», sur http://<span class="searchmatch">openclassrooms</span>.com/, <span class="searchmatch">OpenClassrooms</span> (consulté le 21 février 2015) Robert Cori, «\xa0Principe de', 'timestamp': '2019-12-27T22:12:13Z'}, {'ns': 0, 'title': 'Interface utilisateur', 'pageid': 1031284, 'size': 11840, 'wordcount': 1470, 'snippet': 'the human-machine interface (HMI). «\xa0Une interface graphique\xa0», sur <span class="searchmatch">OpenClassrooms</span> (consulté le 18 septembre 2013) «\xa0Shell\xa0», sur Dicofr.com - Dictionnaire', 'timestamp': '2020-07-18T15:14:27Z'}]}}:
            return "OpenClassrooms"
        if media_wiki_request_search_result == {'batchcomplete': '', 'query': {'searchinfo': {'totalhits': 0}, 'search': []}}:
            return "Atlantide"
        if media_wiki_request_search_result =={'error': {'code': 'missingparam', 'info': 'The "srsearch" parameter must be set.', '*': 'See https://fr.wikipedia.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/mailman/listinfo/mediawiki-api-announce&gt; for notice of API deprecations and breaking changes.'}, 'servedby': 'mw2261'}:
            return "Empty request"

    @staticmethod
    def json_extract(media_wiki_request_extract_result):
        if media_wiki_request_extract_result == {'batchcomplete': '', 'query': {'pages': {'4338589': {'pageid': 4338589, 'ns': 0, 'title': 'OpenClassrooms', 'extract': "OpenClassrooms est un site web de formation en ligne qui propose à ses membres des cours certifiants et des parcours débouchant sur des métiers en croissance. Ses contenus sont réalisés en interne, par des écoles, des universités, des entreprises partenaires comme Microsoft ou IBM, ou historiquement par des bénévoles. Jusqu'en 2018, n'importe quel membre du site pouvait être auteur, via un outil nommé « interface de rédaction » puis « Course Lab ». De nombreux cours sont issus de la communauté, mais ne sont plus mis en avant. Initialement orientée autour de la programmation informatique, la plate-forme couvre depuis 2013 des thématiques plus larges tels que le marketing, l'entrepreneuriat et les sciences.\nCréé en 1999 sous le nom de Site du Zéro, il se forme essentiellement sur la base de contributions de bénévoles proposant des tutoriels vulgarisés avec un ton léger portant sur des sujets informatiques divers. À la suite du succès et de la fin des études des gérants, l'entreprise Simple IT, renommée ensuite OpenClassrooms, est fondée dans le but de pérenniser le site. Celle-ci base son modèle économique sur la délivrance de certifications payantes et propose un abonnement pour être suivi par un mentor,. Suite à ces changements, des utilisateurs créent un site web aux buts similaires, dont les auteurs et l'association le gérant sont uniquement bénévoles et ne propose pas de certifications (Zeste de Savoir).\n\n\n== Fonctionnement ==\nLe site propose un catalogue de plus de 1 000 tutoriels accessibles en ligne."}}}}
            return "OpenClassrooms est un site web de formation en ligne qui propose à ses membres des cours certifiants et des parcours débouchant sur des métiers en croissance. Ses contenus sont réalisés en interne, par des écoles, des universités, des entreprises partenaires comme Microsoft ou IBM, ou historiquement par des bénévoles. Jusqu'en 2018, n'importe quel membre du site pouvait être auteur, via un outil nommé « interface de rédaction » puis « Course Lab ». De nombreux cours sont issus de la communauté, mais ne sont plus mis en avant. Initialement orientée autour de la programmation informatique, la plate-forme couvre depuis 2013 des thématiques plus larges tels que le marketing, l'entrepreneuriat et les sciences.\nCréé en 1999 sous le nom de Site du Zéro, il se forme essentiellement sur la base de contributions de bénévoles proposant des tutoriels vulgarisés avec un ton léger portant sur des sujets informatiques divers. À la suite du succès et de la fin des études des gérants, l'entreprise Simple IT, renommée ensuite OpenClassrooms, est fondée dans le but de pérenniser le site. Celle-ci base son modèle économique sur la délivrance de certifications payantes et propose un abonnement pour être suivi par un mentor,. Suite à ces changements, des utilisateurs créent un site web aux buts similaires, dont les auteurs et l'association le gérant sont uniquement bénévoles et ne propose pas de certifications (Zeste de Savoir).\n\n\n== Fonctionnement ==\nLe site propose un catalogue de plus de 1 000 tutoriels accessibles en ligne."
        if media_wiki_request_extract_result == {'batchcomplete': '', 'query': {'pages': {'20852': {'pageid': 20852, 'ns': 0, 'title': 'Atlantide', 'extract': "L’Atlantide (du grec ancien Ἀτλαντίς / Atlantís) est une île mythique évoquée par Platon dans deux de ses Dialogues, le Timée puis le Critias. Cette île, qu’il situe au-delà des Colonnes d'Hercule, est dédiée à Poséidon et, après avoir connu un âge d'or pacifique, évolue progressivement vers une thalassocratie conquérante dont l'expansion est arrêtée par Athènes, avant que l'île ne soit engloutie par les flots dans un cataclysme provoqué à l'instigation de Zeus.  \nSi le mythe a été peu commenté et a eu peu d'influence durant l'Antiquité, il a suscité un intérêt croissant à partir de la Renaissance. Au-delà de sa portée philosophique et politique, il a depuis donné naissance à de nombreuses hypothèses. Certains auteurs affirment que l'Atlantide est un lieu qui aurait réellement existé et qu'il serait possible de localiser. Dans le même temps, l'Atlantide inspire de nombreuses interprétations ésotériques, allégoriques ou encore patriotiques qui ont donné lieu à une abondante littérature.\nAu début du XXIe siècle, les chercheurs restent partagés, entre les partisans d'une Atlantide de pure fiction (majoritaires dans la recherche scientifique) et ceux d'une lecture du récit de Platon basée sur des événements réels. \nL'Atlantide demeure un thème fertile dans l'art et la littérature, en particulier de nos jours, dans les genres liés au merveilleux et au fantastique, comme la fantasy, le péplum ou la science-fiction.\n\n\n== Sources ==\n\n\n=== Prise de vue ===\n\nL'histoire de l'Atlantide puise son origine dans deux des Dialogues du philosophe athénien Platon (428 — 348 avant J.-C.), le Timée et le Critias, qui sont présentés comme une suite de La République et ont pour objet d'illustrer, à travers ce récit,  les vertus des citoyens idéaux suivant Socrate, montrant comment une Athènes vertueuse est venue à bout d'un ennemi malfaisant.   \nPlaton, « inventeur » de l'Atlantide, y confronte deux images de la Cité au travers de l'affrontement de deux d'entre elles, en des temps immémoriaux."}}}}:
            return "L’Atlantide (du grec ancien Ἀτλαντίς / Atlantís) est une île mythique évoquée par Platon dans deux de ses Dialogues, le Timée puis le Critias. Cette île, qu’il situe au-delà des Colonnes d'Hercule, est dédiée à Poséidon et, après avoir connu un âge d'or pacifique, évolue progressivement vers une thalassocratie conquérante dont l'expansion est arrêtée par Athènes, avant que l'île ne soit engloutie par les flots dans un cataclysme provoqué à l'instigation de Zeus.  \nSi le mythe a été peu commenté et a eu peu d'influence durant l'Antiquité, il a suscité un intérêt croissant à partir de la Renaissance. Au-delà de sa portée philosophique et politique, il a depuis donné naissance à de nombreuses hypothèses. Certains auteurs affirment que l'Atlantide est un lieu qui aurait réellement existé et qu'il serait possible de localiser. Dans le même temps, l'Atlantide inspire de nombreuses interprétations ésotériques, allégoriques ou encore patriotiques qui ont donné lieu à une abondante littérature.\nAu début du XXIe siècle, les chercheurs restent partagés, entre les partisans d'une Atlantide de pure fiction (majoritaires dans la recherche scientifique) et ceux d'une lecture du récit de Platon basée sur des événements réels. \nL'Atlantide demeure un thème fertile dans l'art et la littérature, en particulier de nos jours, dans les genres liés au merveilleux et au fantastique, comme la fantasy, le péplum ou la science-fiction.\n\n\n== Sources ==\n\n\n=== Prise de vue ===\n\nL'histoire de l'Atlantide puise son origine dans deux des Dialogues du philosophe athénien Platon (428 — 348 avant J.-C.), le Timée et le Critias, qui sont présentés comme une suite de La République et ont pour objet d'illustrer, à travers ce récit,  les vertus des citoyens idéaux suivant Socrate, montrant comment une Athènes vertueuse est venue à bout d'un ennemi malfaisant.   \nPlaton, « inventeur » de l'Atlantide, y confronte deux images de la Cité au travers de l'affrontement de deux d'entre elles, en des temps immémoriaux."
        if media_wiki_request_extract_result =={'error': {'code': 'missingparam', 'info': 'The "srsearch" parameter must be set.', '*': 'See https://fr.wikipedia.org/w/api.php for API usage. Subscribe to the mediawiki-api-announce mailing list at &lt;https://lists.wikimedia.org/mailman/listinfo/mediawiki-api-announce&gt; for notice of API deprecations and breaking changes.'}, 'servedby': 'mw2261'}:
            return ""

